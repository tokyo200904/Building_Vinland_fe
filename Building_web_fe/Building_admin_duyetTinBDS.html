<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản Lý Tin Đăng Chờ Duyệt</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script src="assets/js/baomat.js"></script>

    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    
    <link rel="stylesheet" href="assets/css/style_admin_duettin.css">
</head>

<body>
 <header id="header" class="header fixed-top d-flex align-items-center">

  <div class="d-flex align-items-center justify-content-between">
    <a href="Building_trangchu.html" class="logo d-flex align-items-center">
      <img src="assets/img/unnamed.jpg" alt="Vinland Sage Real Estate Logo" style="max-height: 60px; width: auto;">
    </a>
    
    <i class="bi bi-list toggle-sidebar-btn"></i>
  </div>

  <nav class="header-nav ms-auto">
    <ul class="d-flex align-items-center">

      <li class="nav-item dropdown pe-3">

        <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
          <img src="https://placehold.co/40x40/0d6efd/white?text=?" 
               alt="Profile" 
               class="rounded-circle" 
               id="profile-image">
          <span id="profile-name-short" class="d-none d-md-block dropdown-toggle ps-2">...</span>
        </a>

        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
          <li class="dropdown-header">
            <h6 id="profile-name-full">Đang tải...</h6>
            <span id="profile-role">...</span>
          </li>
          <li>
            <hr class="dropdown-divider">
          </li>

          <li>
            <a class="dropdown-item d-flex align-items-center" href="Profile.html">
              <i class="bi bi-person"></i>
              <span>Thông tin tài khoản</span>
            </a>
          </li>
          <li>
            <hr class="dropdown-divider">
          </li>

          <li>
            <a class="dropdown-item d-flex align-items-center" href="#" id="logout-button">
              <i class="bi bi-box-arrow-right"></i>
              <span>Đăng xuất</span>
            </a>
          </li>

        </ul></li></ul>
  </nav></header>
  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">

    <ul class="sidebar-nav" id="sidebar-nav">

      <li class="nav-item">
        <a class="nav-link collapsed" href="index.html">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li>

      <li class="nav-heading">QUẢN LÝ</li>


      <li class="nav-item">
        <a class="nav-link collapsed" href="Building_list.html">
          <i class="bi bi-menu-button-wide"></i>
          <span>Quản lý bất động sản</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="Building_admin_QlTt.html">
          <i class="bi bi-journal-text"></i>
          <span>Quản lý tin tức</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="Building_admin_qlUser.html">
          <i class="bi bi-layout-text-window-reverse"></i>
          <span>Quản lý tài khoản</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="Building_admin_moigioi.html">
          <i class="bi bi-newspaper"></i>
          <span>Quản lý công ty môi giới</span>
        </a>
      </li>

      <li class="nav-heading">ĐĂNG TIN</li>


            <li class="nav-item">
        <a class="nav-link collapsed" href="Building_them.html">
          <i class="bi-building-add"></i>
          <span>Đăng tin bất động sản</span>
        </a>
      </li>

            <li class="nav-item">
        <a class="nav-link collapsed" href="Building_admin_dangTt.html">
          <i class="bi-newspaper"></i>
          <span>Đăng tin tức</span>
        </a>
      </li>

      <li class="nav-heading">DUYỆT TIN</li>

            <li class="nav-item">
        <a class="nav-link collapsed" href="Building_admin_duyetTinBDS.html">
          <i class="bi-house-check"></i>
          <span>Duyệt tin bất động sản</span>
        </a>
      </li>

     <li class="nav-item">
        <a class="nav-link collapsed" href="Building_admin_duyenTT.html">
          <i class="bi-file-check"></i>
          <span>Duyệt tin tức</span>
        </a>
      </li>
            <li class="nav-heading">PAGES</li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="Profile.html">
          <i class="bi bi-menu-button-wide"></i>
          <span>Profile</span>
        </a>
      </li>

      <li class="nav-item">
              <a class="nav-link collapsed" href="#" id="logout-button">
                <i class="bi bi-box-arrow-right"></i>
          <span>Login</span>
        </a>
      </li>
    </ul>

  </aside><!-- End Sidebar-->

    <main id="main" class="main">
        <div class="pagetitle">
            <h1>Duyệt Tin Đăng Bất Động Sản</h1>
            <nav>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item">Duyệt tin</li>
                    <li class="breadcrumb-item active">Duyệt tin BĐS</li>
                </ol>
            </nav>
        </div>

        <section class="section">
            <div class="container-fluid">
                <div id="pendingListingsContainer" class="row">
                    <div id="loadingMessage" class="text-center text-muted col-12">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-2">Đang tải tin đăng chờ duyệt...</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-scrollable"> 
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="detailModalLabel"><i class="bi bi-info-circle me-2"></i>Chi Tiết Yêu Cầu Duyệt Tin</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="detailModalBody">
                    
                    <div class="row mb-3">
                        <div class="col-lg-8">
                            <h2 class="property-title" id="detailTitle"></h2>
                            <p class="property-address" id="detailLocation">
                                <i class="bi bi-geo-alt-fill me-2"></i>
                            </p>
                        </div>
                        <div class="col-lg-4 text-lg-end">
                            <div class="property-price" id="detailPrice"></div>
                        </div>
                    </div>
                    <hr>

                    <div class="row">
                        <div class="col-lg-8">
                            <section class="mb-4">
                                <div id="detailGalleryCarousel" class="carousel slide bg-light rounded-lg shadow-sm overflow-hidden" data-bs-interval="false">
                                    <div class="carousel-inner" id="carouselMainImages"></div>
                                    <button class="carousel-control-prev" type="button" data-bs-target="#detailGalleryCarousel" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Previous</span>
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#detailGalleryCarousel" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Next</span>
                                    </button>
                                </div>
                                <div class="thumbnail-nav mt-3 d-flex flex-nowrap overflow-auto" id="detailThumbnailNav"></div>
                            </section>

                            <section class="card shadow-sm border-0 mb-4 property-stats">
                                <div class="card-body py-4">
                                    <div class="row text-center">
                                        <div class="col-6 col-md-3 mb-3 mb-md-0">
                                            <i class="bi bi-arrows-fullscreen stat-icon"></i>
                                            <div>Diện tích</div>
                                            <strong id="statArea"></strong>
                                        </div>
                                        <div class="col-6 col-md-3 mb-3 mb-md-0">
                                            <i class="bi bi-door-closed stat-icon"></i>
                                            <div>Phòng ngủ</div>
                                            <strong id="statBedrooms"></strong>
                                        </div>
                                        <div class="col-6 col-md-3">
                                            <i class="bi bi-droplet stat-icon"></i>
                                            <div>Phòng tắm</div>
                                            <strong id="statBathrooms"></strong>
                                        </div>
                                        <div class="col-6 col-md-3">
                                            <i class="bi bi-calendar-check stat-icon"></i>
                                            <div>Năm XD</div>
                                            <strong id="statYearBuilt"></strong>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section class="card shadow-sm border-0 mb-4">
                                <div class="card-body p-4">
                                    <h4 class="section-title">Thông tin chi tiết</h4>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <p><i class="bi bi-house-door-fill me-2"></i><strong>Loại BĐS:</strong> <span id="detailLoaiBDS" class="fw-bold"></span></p>
                                        </div>
                                        <div class="col-md-6">
                                            <p><i class="bi bi-tag-fill me-2"></i><strong>Mục đích:</strong> <span id="detailMucDich" class="fw-bold"></span></p>
                                        </div>
                                        <div class="col-md-6">
                                            <p><i class="bi bi-lamp-fill me-2"></i><strong>Nội thất:</strong> <span id="detailNoiThat" class="fw-bold"></span></p>
                                        </div>
                                        <div class="col-md-6">
                                            <p><i class="bi bi-layers-fill me-2"></i><strong>Tầng:</strong> <span id="detailTang" class="fw-bold"></span></p>
                                        </div>
                                        <div class="col-md-6">
                                            <p><i class="bi bi-building-fill me-2"></i><strong>Tổng tầng:</strong> <span id="detailTongTang" class="fw-bold"></span></p>
                                        </div>
                                    </div>
                                    
                                    <h5 class="mt-3">Tiện ích:</h5>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <p><i class="bi bi-p-circle me-2"></i>Bãi đỗ xe: <span id="detailBaiDoXe" class="fw-bold"></span></p>
                                        </div>
                                        <div class="col-md-4">
                                            <p><i class="bi bi-view-list me-2"></i>Ban công: <span id="detailBanCong" class="fw-bold"></span></p>
                                        </div>
                                        <div class="col-md-4">
                                            <p><i class="bi bi-arrow-up-circle me-2"></i>Thang máy: <span id="detailThangMay" class="fw-bold"></span></p>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section class="card shadow-sm border-0 mb-4">
                                <div class="card-body p-4">
                                    <h4 class="section-title">Mô tả chi tiết</h4>
                                    <div id="detailDescription" class="property-description"></div>
                                </div>
                            </section>

                        </div>

                        <div class="col-lg-4">
                            <div class="card border-0 shadow-sm sticky-top agent-card" style="top: 15px;">
                                <div class="card-body p-4 text-center">
                                    <img src="https://placehold.co/120x120/EFEFEF/AAAAAA?text=User" 
                                         class="rounded-circle agent-avatar mb-3" 
                                         alt="Ảnh đại diện"
                                         id="detailAgentAvatar">
                                    
                                    <h5 class="card-title fw-bold mb-1" id="detailAgentName"></h5>
                                    <p class="text-muted mb-3" id="detailAgentRole"></p>

                                    <div class="d-grid gap-3">
                                        <a href="#" id="btnShowPhone" class="btn btn-success btn-lg fw-bold">
                                            <i class="bi bi-telephone-fill me-2"></i> 
                                            <span id="detailAgentPhone">HIỆN SỐ</span>
                                        </a>
                                        <a href="#" id="btnChatEmail" class="btn btn-primary btn-lg fw-bold">
                                            <i class="bi bi-envelope-fill me-2"></i> 
                                            <span id="detailAgentEmail">Gửi Email</span>
                                        </a>
                                    </div>
                                </div>
                                <div class="card-footer bg-light p-3">
                                    <p class="mb-1"><i class="bi bi-key-fill me-2"></i>Mã YC: <strong id="detailId"></strong></p>
                                    <p class="mb-0"><i class="bi bi-calendar-plus me-2"></i>Ngày gửi: <strong id="detailDate"></strong></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-x-circle me-2"></i>Đóng</button>
                    <div>
                        <button type="button" class="btn btn-danger" id="rejectFromModalBtn"><i class="bi bi-x-octagon-fill me-2"></i>Từ chối</button>
                        <button type="button" class="btn btn-success" id="approveFromModalBtn"><i class="bi bi-check-circle-fill me-2"></i>Phê duyệt</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="rejectModal" tabindex="-1" aria-labelledby="rejectModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="rejectModalLabel"><i class="bi bi-exclamation-triangle-fill me-2"></i>Từ Chối Tin Đăng</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Bạn có chắc chắn muốn từ chối tin đăng này?</p>
                    <div class="mb-3">
                        <label for="rejectReason" class="form-label">Lý do từ chối (sẽ hiển thị cho người gửi)</label>
                        <textarea class="form-control" id="rejectReason" rows="4" placeholder="Ví dụ: Tiêu đề không hợp lệ, hình ảnh mờ..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-danger" id="confirmRejectBtn">Xác nhận Từ chối</button>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/jquery-3.7.1.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js"></script>
    
    <script src="assets/js/duyettin.js"></script>
    <script src="assets/js/dangxuat.js"></script>
</body>
</html>